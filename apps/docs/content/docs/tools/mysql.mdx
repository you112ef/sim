---
title: MySQL
description: Connect to MySQL database
---

import { BlockInfoCard } from "@/components/ui/block-info-card"
import { Accordion, Accordions } from "fumadocs-ui/components/accordion"


<BlockInfoCard 
  type="mysql"
  color="#E0E0E0"
  icon={true}
  iconSvg={`<svg className="block-icon"
      
      xmlns='http://www.w3.org/2000/svg'
      
      
      viewBox='0 0 25.6 25.6'
    >
      <path
        d='M179.076 94.886c-3.568-.1-6.336.268-8.656 1.25-.668.27-1.74.27-1.828 1.116.357.355.4.936.713 1.428.535.893 1.473 2.096 2.32 2.72l2.855 2.053c1.74 1.07 3.703 1.695 5.398 2.766.982.625 1.963 1.428 2.945 2.098.5.357.803.938 1.428 1.16v-.135c-.312-.4-.402-.98-.713-1.428l-1.34-1.293c-1.293-1.74-2.9-3.258-4.64-4.506-1.428-.982-4.55-2.32-5.13-3.97l-.088-.1c.98-.1 2.14-.447 3.078-.715 1.518-.4 2.9-.312 4.46-.713l2.143-.625v-.4c-.803-.803-1.383-1.874-2.23-2.632-2.275-1.963-4.775-3.882-7.363-5.488-1.383-.892-3.168-1.473-4.64-2.23-.537-.268-1.428-.402-1.74-.848-.805-.98-1.25-2.275-1.83-3.436l-3.658-7.763c-.803-1.74-1.295-3.48-2.275-5.086-4.596-7.585-9.594-12.18-17.268-16.687-1.65-.937-3.613-1.34-5.7-1.83l-3.346-.18c-.715-.312-1.428-1.16-2.053-1.562-2.543-1.606-9.102-5.086-10.977-.5-1.205 2.9 1.785 5.755 2.8 7.228.76 1.026 1.74 2.186 2.277 3.346.3.758.4 1.562.713 2.365.713 1.963 1.383 4.15 2.32 5.98.5.937 1.025 1.92 1.65 2.767.357.5.982.714 1.115 1.517-.625.893-.668 2.23-1.025 3.347-1.607 5.042-.982 11.288 1.293 15 .715 1.115 2.4 3.57 4.686 2.632 2.008-.803 1.56-3.346 2.14-5.577.135-.535.045-.892.312-1.25v.1l1.83 3.703c1.383 2.186 3.793 4.462 5.8 5.98 1.07.803 1.918 2.187 3.256 2.677v-.135h-.088c-.268-.4-.67-.58-1.027-.892-.803-.803-1.695-1.785-2.32-2.677-1.873-2.498-3.523-5.265-4.996-8.12-.715-1.383-1.34-2.9-1.918-4.283-.27-.536-.27-1.34-.715-1.606-.67.98-1.65 1.83-2.143 3.034-.848 1.918-.936 4.283-1.248 6.737-.18.045-.1 0-.18.1-1.426-.356-1.918-1.83-2.453-3.078-1.338-3.168-1.562-8.254-.402-11.913.312-.937 1.652-3.882 1.117-4.774-.27-.848-1.16-1.338-1.652-2.008-.58-.848-1.203-1.918-1.605-2.855-1.07-2.5-1.605-5.265-2.766-7.764-.537-1.16-1.473-2.365-2.232-3.435-.848-1.205-1.783-2.053-2.453-3.48-.223-.5-.535-1.294-.178-1.83.088-.357.268-.5.623-.58.58-.5 2.232.134 2.812.4 1.65.67 3.033 1.294 4.416 2.23.625.446 1.295 1.294 2.098 1.518h.938c1.428.312 3.033.1 4.37.5 2.365.76 4.506 1.874 6.426 3.08 5.844 3.703 10.664 8.968 13.92 15.26.535 1.026.758 1.963 1.25 3.034.938 2.187 2.098 4.417 3.033 6.56.938 2.097 1.83 4.24 3.168 5.98.67.937 3.346 1.427 4.55 1.918.893.4 2.275.76 3.08 1.25 1.516.937 3.033 2.008 4.46 3.034.713.534 2.945 1.65 3.078 2.54zm-45.5-38.772a7.09 7.09 0 0 0-1.828.223v.1h.088c.357.714.982 1.205 1.428 1.83l1.027 2.142.088-.1c.625-.446.938-1.16.938-2.23-.268-.312-.312-.625-.535-.937-.268-.446-.848-.67-1.206-1.026z'
        transform='matrix(.390229 0 0 .38781 -46.300037 -16.856717)'
        fillRule='evenodd'
        fill='#00678c'
      />
    </svg>`}
/>

{/* MANUAL-CONTENT-START:intro */}
The [MySQL](https://www.mysql.com/) tool enables you to connect to any MySQL database and perform a wide range of database operations directly within your agentic workflows. With secure connection handling and flexible configuration, you can easily manage and interact with your data.

With the MySQL tool, you can:

- **Query data**: Execute SELECT queries to retrieve data from your MySQL tables using the `mysql_query` operation.
- **Insert records**: Add new rows to your tables with the `mysql_insert` operation by specifying the table and data to insert.
- **Update records**: Modify existing data in your tables using the `mysql_update` operation, providing the table, new data, and WHERE conditions.
- **Delete records**: Remove rows from your tables with the `mysql_delete` operation, specifying the table and WHERE conditions.
- **Execute raw SQL**: Run any custom SQL command using the `mysql_execute` operation for advanced use cases.

The MySQL tool is ideal for scenarios where your agents need to interact with structured data—such as automating reporting, syncing data between systems, or powering data-driven workflows. It streamlines database access, making it easy to read, write, and manage your MySQL data programmatically.
{/* MANUAL-CONTENT-END */}


## Operations

### `mysql_query`

Execute SELECT query on MySQL database

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `host` | string | Yes | MySQL server hostname or IP address |
| `port` | number | Yes | MySQL server port \(default: 3306\) |
| `database` | string | Yes | Database name to connect to |
| `username` | string | Yes | Database username |
| `password` | string | Yes | Database password |
| `ssl` | string | No | SSL connection mode \(disabled, required, preferred\) |
| `query` | string | Yes | SQL SELECT query to execute |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `message` | string | Operation status message |
| `rows` | array | Array of rows returned from the query |
| `rowCount` | number | Number of rows returned |

### `mysql_insert`

Insert new record into MySQL database

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `host` | string | Yes | MySQL server hostname or IP address |
| `port` | number | Yes | MySQL server port \(default: 3306\) |
| `database` | string | Yes | Database name to connect to |
| `username` | string | Yes | Database username |
| `password` | string | Yes | Database password |
| `ssl` | string | No | SSL connection mode \(disabled, required, preferred\) |
| `table` | string | Yes | Table name to insert into |
| `data` | object | Yes | Data to insert as key-value pairs |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `message` | string | Operation status message |
| `rows` | array | Array of inserted rows |
| `rowCount` | number | Number of rows inserted |

### `mysql_update`

Update existing records in MySQL database

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `host` | string | Yes | MySQL server hostname or IP address |
| `port` | number | Yes | MySQL server port \(default: 3306\) |
| `database` | string | Yes | Database name to connect to |
| `username` | string | Yes | Database username |
| `password` | string | Yes | Database password |
| `ssl` | string | No | SSL connection mode \(disabled, required, preferred\) |
| `table` | string | Yes | Table name to update |
| `data` | object | Yes | Data to update as key-value pairs |
| `where` | string | Yes | WHERE clause condition \(without WHERE keyword\) |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `message` | string | Operation status message |
| `rows` | array | Array of updated rows |
| `rowCount` | number | Number of rows updated |

### `mysql_delete`

Delete records from MySQL database

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `host` | string | Yes | MySQL server hostname or IP address |
| `port` | number | Yes | MySQL server port \(default: 3306\) |
| `database` | string | Yes | Database name to connect to |
| `username` | string | Yes | Database username |
| `password` | string | Yes | Database password |
| `ssl` | string | No | SSL connection mode \(disabled, required, preferred\) |
| `table` | string | Yes | Table name to delete from |
| `where` | string | Yes | WHERE clause condition \(without WHERE keyword\) |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `message` | string | Operation status message |
| `rows` | array | Array of deleted rows |
| `rowCount` | number | Number of rows deleted |

### `mysql_execute`

Execute raw SQL query on MySQL database

#### Input

| Parameter | Type | Required | Description |
| --------- | ---- | -------- | ----------- |
| `host` | string | Yes | MySQL server hostname or IP address |
| `port` | number | Yes | MySQL server port \(default: 3306\) |
| `database` | string | Yes | Database name to connect to |
| `username` | string | Yes | Database username |
| `password` | string | Yes | Database password |
| `ssl` | string | No | SSL connection mode \(disabled, required, preferred\) |
| `query` | string | Yes | Raw SQL query to execute |

#### Output

| Parameter | Type | Description |
| --------- | ---- | ----------- |
| `message` | string | Operation status message |
| `rows` | array | Array of rows returned from the query |
| `rowCount` | number | Number of rows affected |



## Best Practices

{/* MANUAL-CONTENT-START:bestPractices */}
When integrating the MySQL block into your Sim.ai workflows, following established best practices ensures reliable database operations and optimal performance. The MySQL block serves as a critical data persistence layer in your automated workflows, enabling secure connections to MySQL databases for comprehensive data management operations including queries, insertions, updates, and deletions.

**Connection Tag Usage and Data Flow**

The MySQL block's connection tags enable sophisticated data pipeline architectures. The `<mysql1.rows>` output provides the primary mechanism for passing query results to subsequent blocks, while `<mysql1.rowCount>` offers quantitative feedback for conditional logic. When chaining database operations, use `<mysql1.message>` to implement error handling flows that branch based on operation success or failure.

For dynamic query construction, leverage connection tags from previous blocks in the `query` parameter. For example, `<function1.sqlQuery>` allows Function blocks to generate complex SELECT statements based on workflow logic. Similarly, use `<webhook1.userId>` within WHERE clauses to filter data based on incoming request parameters. The `data` parameter in insert and update operations accepts object structures from JSON blocks or API responses through tags like `<api1.responseData>`.

Advanced patterns include using `<mysql1.rows[0].id>` to extract specific values from query results for subsequent operations. This enables workflows where initial database queries inform follow-up operations, creating sophisticated data processing pipelines.

**Workflow Architecture Patterns**

Successful MySQL workflows follow proven architectural patterns that maximize reliability and maintainability. The **API → MySQL Query → Response Formatter** pattern enables data retrieval APIs where incoming requests trigger database queries and formatted responses. This pattern works exceptionally well for customer dashboards and reporting systems.

For data synchronization, implement **Webhook → Data Validator → MySQL Insert/Update** flows. This architecture ensures data integrity by validating incoming payloads before database operations. The **Schedule Trigger → MySQL Query → Analytics Function → MySQL Update** pattern creates automated data processing pipelines that run on predetermined intervals.

Complex workflows benefit from **MySQL Query → Conditional → Multiple MySQL Operations** patterns. Use the `<mysql1.rowCount>` output to determine workflow branching—zero rows might trigger insert operations, while existing data triggers updates. This pattern prevents duplicate data and maintains referential integrity across workflow executions.

**Message/Data Formatting Excellence**

Structure your MySQL operations for maximum reliability through proper data type handling and query formatting. The `data` parameter in insert and update operations requires objects with keys matching database column names exactly. Validate data types before passing to MySQL blocks—use Function blocks to convert strings to numbers where necessary.

For SELECT queries, construct WHERE clauses that prevent SQL injection by using parameterized approaches. While the MySQL block handles connection security, avoid concatenating user input directly into query strings. Instead, use the structured `where` parameter in update and delete operations, which accepts conditions like `id = 123 AND status = 'active'`.

Handle array and object data properly by serializing complex structures before database storage. Use JSON.stringify() in Function blocks to convert objects to strings for TEXT or JSON column types. When retrieving data, parse JSON strings back to objects using `<function1.parsedData>` connection tags for subsequent processing.

**Debugging and Monitoring**

Implement comprehensive monitoring for MySQL blocks through systematic logging and error handling. The `<mysql1.message>` output provides detailed operation status information—capture these messages in logging blocks to track database performance and identify connection issues. Monitor `<mysql1.rowCount>` values to detect unexpected query results that might indicate data integrity problems.

Create debugging workflows that log connection parameters (excluding passwords) and query structures. Use Function blocks to sanitize and format connection details for debugging logs: `host: <mysql1.host>, database: <mysql1.database>, port: <mysql1.port>`. This information proves invaluable when troubleshooting connectivity issues across different environments.

Establish query performance baselines by measuring execution times. Implement timing logic using Function blocks before and after MySQL operations to identify slow queries. Store performance metrics in separate monitoring tables to track database performance trends over time.

**Security Considerations**

MySQL block security requires careful handling of connection credentials and query construction. Store database passwords in environment variables rather than hardcoding them in workflows. Use secure connection tags like `<environment.dbPassword>` to reference credentials safely.

Enable SSL connections by setting the `ssl` parameter to "required" for production environments. This encrypts data transmission between Sim.ai workflows and MySQL servers, protecting sensitive information during database operations. For development environments, "preferred" provides a balance between security and flexibility.

Implement proper access controls by using database users with minimal required privileges. Create specific database users for Sim.ai workflows that have only the necessary permissions for intended operations. Avoid using administrative accounts for routine workflow operations.

Validate and sanitize all data before database operations. Use Function blocks to implement input validation rules that prevent malformed data from reaching the database. This includes checking data types, string lengths, and format requirements before executing MySQL operations.

**Performance Optimization**

Optimize MySQL block performance through strategic query design and connection management. Structure SELECT queries to retrieve only necessary columns rather than using SELECT * statements. This reduces network transfer time and memory usage, especially important for workflows processing large datasets.

Implement connection pooling strategies by reusing connection parameters across multiple MySQL blocks within the same workflow. This reduces connection overhead and improves execution speed. Configure appropriate `port` settings—use 3306 for standard MySQL installations or specify custom ports for optimized server configurations.

For high-volume workflows, batch operations using the mysql_execute operation with compound statements. This reduces the number of individual database connections and improves overall throughput. Structure batch queries carefully to maintain transactional integrity and enable proper error handling.

Monitor and optimize query execution plans by analyzing slow queries. Use the mysql_query operation to run EXPLAIN statements on complex queries, helping identify indexing opportunities and query optimization strategies. Store query performance data using additional MySQL blocks to build comprehensive performance monitoring systems.

Cache frequently accessed data by implementing Redis or in-memory storage blocks between MySQL queries and response generation. This reduces database load for read-heavy workflows while maintaining data consistency through strategic cache invalidation patterns.
{/* MANUAL-CONTENT-END */}


## FAQ

{/* MANUAL-CONTENT-START:faq */}
<Accordions type="single">
  <Accordion title="How do I connect my workflow to a MySQL database in Sim.ai?">

    To connect your workflow to a MySQL database, add a **MySQL block** to your Sim.ai workflow and configure the required database connection inputs:

    #### Required Connection Inputs

    | Input | Description | Example |
    |-------|-------------|---------|
    | `host` | MySQL server hostname or IP | `<start.dbHost>` or `"localhost"` |
    | `port` | MySQL server port number | `<start.dbPort>` or `3306` |
    | `database` | Database name to connect to | `<start.dbName>` or `"myapp_db"` |
    | `username` | Database username | `<start.dbUser>` or environment variable |
    | `password` | Database password | `<start.dbPassword>` or secure connection |

    #### Optional Parameters
    - `ssl`: SSL connection mode (`"disabled"`, `"required"`, or `"preferred"`)
  </Accordion>
  <Accordion title="How do I execute a SELECT query to retrieve data from MySQL?">

    Use the `mysql_query` operation to execute SELECT queries and retrieve data:

    1. **Set the operation** to `mysql_query`
    2. **Configure database connection** parameters (host, port, database, username, password)
    3. **Add your SQL query** in the `query` field:

    #### Example Query Configuration
    ```sql
    SELECT id, name, email FROM users WHERE status = 'active'
    ```

    You can also use dynamic queries with connection tags:
    ```sql
    SELECT * FROM orders WHERE customer_id = '<start.customerId>'
    ```
  </Accordion>
  <Accordion title="What outputs can I reference from MySQL blocks in my workflow?">

    Every MySQL block exposes three standard outputs that can be referenced using connection tags:

    #### Available Output Tags

    | Output Tag | Type | Description |
    |------------|------|-------------|
    | `<mysql1.message>` | String | Success or error message describing the operation |
    | `<mysql1.rows>` | Array | Array of rows returned from the query |
    | `<mysql1.rowCount>` | Number | Number of rows affected by the operation |

    #### Example Usage in Downstream Blocks
    - Connect `<mysql1.rows>` to an Agent block to process query results
    - Use `<mysql1.rowCount>` in a Condition block to check if records exist
    - Reference `<mysql1.message>` for error handling and logging
  </Accordion>
  <Accordion title="How do I insert new records into MySQL from my workflow data?">

    To insert data into MySQL tables using the `mysql_insert` operation:

    1. **Set operation** to `mysql_insert`
    2. **Configure connection** parameters
    3. **Specify target table** in the `table` field
    4. **Map data object** with key-value pairs matching your table columns

    #### Example Insert Configuration

    | Field | Value | Example |
    |-------|-------|---------|
    | `table` | `"users"` | Target table name |
    | `data` | Object with column mappings | `{"name": "<start.userName>", "email": "<start.userEmail>"}` |

    #### Dynamic Data Mapping
    ```json
    {
      "name": "<webhook1.body.fullName>",
      "email": "<webhook1.body.email>",
      "created_at": "<function1.timestamp>"
    }
    ```
  </Accordion>
  <Accordion title="How do I update existing MySQL records based on workflow conditions?">

    Use the `mysql_update` operation to modify existing records:

    #### Required Parameters for Updates

    | Parameter | Description | Example |
    |-----------|-------------|---------|
    | `table` | Table name to update | `"orders"` |
    | `data` | Key-value pairs of fields to update | `{"status": "<agent1.orderStatus>"}` |
    | `where` | WHERE clause condition (without WHERE keyword) | `"id = '<start.orderId>'"` |

    #### Example Update Configuration
    ```json
    {
      "table": "customers",
      "data": {
        "last_login": "<function1.currentTimestamp>",
        "login_count": "<mysql_query1.rows[0].login_count> + 1"
      },
      "where": "email = '<webhook1.body.email>'"
    }
    ```
  </Accordion>
  <Accordion title="How do I integrate MySQL blocks with Agent blocks for data-driven AI responses?">

    Create powerful data-driven workflows by connecting MySQL query results to Agent blocks:

    #### Common Integration Patterns

    ##### 1. **Query → Agent Pattern**
    ```
    MySQL (SELECT) → Agent → Response
    ```
    - Connect `<mysql1.rows>` to Agent's `context` or `systemPrompt`
    - Agent processes database results and generates responses

    ##### 2. **Agent → MySQL Pattern**
    ```
    Webhook → Agent → MySQL (INSERT/UPDATE)
    ```
    - Agent processes user input: `<webhook1.body.message>`
    - Connect `<agent1.extractedData>` to MySQL `data` parameter

    ##### 3. **Conditional Database Operations**
    ```
    MySQL (SELECT) → Condition → MySQL (INSERT/UPDATE)
    ```
    - Use `<mysql1.rowCount>` in Condition block
    - Route to different database operations based on existence checks
  </Accordion>
  <Accordion title="Why is my MySQL connection failing and how do I troubleshoot it?">

    Troubleshoot MySQL connection issues with this systematic approach:

    #### Common Connection Problems

    | Issue | Symptoms | Solution |
    |-------|----------|----------|
    | **Authentication Failed** | "Access denied" in `<mysql1.message>` | Verify `username` and `password` are correct |
    | **Host Unreachable** | Connection timeout errors | Check `host` and `port` values, ensure network access |
    | **Database Not Found** | "Unknown database" error | Confirm `database` name exists and user has access |
    | **SSL Configuration** | SSL handshake failures | Set `ssl` parameter to `"disabled"` for testing |
    | **Query Syntax Error** | SQL syntax error messages | Validate SQL syntax in `query` field |

    #### Debugging Steps
    1. **Test connection** with minimal SELECT query: `"SELECT 1"`
    2. **Check credentials** using static values before dynamic connections
    3. **Verify permissions** - ensure database user has required privileges
    4. **Review logs** in workflow execution for detailed error messages
  </Accordion>
  <Accordion title="How do I handle MySQL query results with conditional logic in workflows?">

    Combine MySQL blocks with Condition blocks to create smart data-driven workflows:

    #### Pattern 1: Check Record Existence
    ```
    MySQL (SELECT) → Condition → Different Actions
    ```

    #### Condition Configuration
    - **Condition**: `<mysql1.rowCount> > 0`
    - **True path**: Update existing record
    - **False path**: Insert new record

    #### Pattern 2: Process Query Results
    ```
    MySQL (SELECT) → Condition → Agent/Function
    ```

    #### Example Conditions
    - `<mysql1.rows.length> === 0` - No results found
    - `<mysql1.rows[0].status> === 'pending'` - Check specific field value
    - `<mysql1.rowCount> >= 10` - Threshold-based routing

    This enables sophisticated database-driven decision making within your Sim.ai workflows.
  </Accordion>
</Accordions>
{/* MANUAL-CONTENT-END */}
